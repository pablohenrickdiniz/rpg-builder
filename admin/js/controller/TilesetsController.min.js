app.controller("TilesetsController",["$rootScope","$http","$timeout","URLS","ResourceService","$localStorage","TaskService",function(b,g,d,a,f,c,e){b.modalVisible=false;b.pagination={current:1};b.tilesets=[];b.metadata={files:[],images:[]};b.showModal=function(){b.modalVisible=true;b.animation=null};b.hideModal=function(){b.modalVisible=false};b.remove=function(h){f.remove("tilesets",h);b.changePage(b.pagination.current)};b.load=function(){f.loadResourcePage("tilesets",1,8,function(h){b.tilesets=h})};b.changePage=function(h){f.loadResourcePage("tilesets",h,8,function(i){b.tilesets=i})};b.afterEach=function(h){if(h.success){b.storage.resources[h.type].unshift(h.doc);b.changePage(b.pagination.current)}};b.sincronize=function(){var h={action:"SINCRONIZE_RESOURCES",date:new Date(),priority:2,data:{name:"tilesets"}};e.add(h)};b.storage=c}]);