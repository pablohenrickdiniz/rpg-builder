app.directive("adminSidebar",function(){return{restrict:"E",templateUrl:"templates/Elements/admin_sidebar.html"}});app.directive("adminHeader",function(){return{restrict:"E",templateUrl:"templates/Elements/admin_header.html"}});app.directive("loginForm",function(){return{restrict:"E",templateUrl:"templates/Elements/login_form.html"}});app.directive("inputNumberVertical",["$interval","$document",function(b,a){return{restrict:"A",templateUrl:"templates/Elements/input_number_vertical.html",scope:{min:"@min",max:"@max",ngChange:"&"},replace:true,link:function(e){e.value=0;e.interval=null;var d=isNaN(e.min)?null:parseFloat(e.min);var c=isNaN(e.max)?null:parseFloat(e.max);e.change=function(){if(d!==null&&d>e.value){e.value=d}if(c!==null&&c<e.value){e.value=c}e.ngChange()(e.value)};e.increment=function(){if(e.interval===null){e.interval=b(function(){if(c===null||c>=e.value+1){e.value=e.value+1}e.change()},50)}};e.decrement=function(){if(e.interval===null){e.interval=b(function(){if(d===null||d<=e.value-1){e.value=e.value-1}e.change()},50)}};e.stop=function(){b.cancel(e.interval);e.interval=null};a.on("mouseup",function(){e.stop()});e.change()}}}]);app.directive("inputImagePreview",function(){return{restrict:"A",templateUrl:"templates/Elements/input_image_preview.html",scope:{title:"@title",multiple:"@multiple"},replace:true,link:function(e,d,b){var c=d.find("input");var a=["image/png","image/jpeg","image/gif"];e.files=[];e.images=[];c.on("change",function(l){e.files=[];var k=l.target.files;var h=[];var f=window.URL||window.webkitURL;for(var j=0;j<k.length;j++){if(a.indexOf(k[j].type)!==-1){e.files.push(k[j]);var g=f.createObjectURL(k[j]);h.push({url:g,name:k[j].name})}}e.images=h;e.$apply()})}}});app.directive("inputImage",function(){return{restrict:"A",templateUrl:"templates/Elements/input_image.html",scope:{title:"@title",multiple:"@multiple",ngAdd:"&"},replace:true,link:function(e,d,b){var c=d.find("input");var a=["image/png","image/jpeg","image/gif"];e.files=[];e.select=function(){c[0].click()};c.on("change",function(l){var k=l.target.files;var h=[];var f=window.URL||window.webkitURL;for(var j=0;j<k.length;j++){if(a.indexOf(k[j].type)!==-1){var g=f.createObjectURL(k[j]);h.push({url:g,name:k[j].name})}}e.files=h;e.$apply()});e.addImages=function(){e.ngAdd()(e.files);e.files=[]}}}});app.directive("inputColor",function(){return{restrict:"A",templateUrl:"templates/Elements/input_color.html",scope:{ngChange:"&",value:"@value"},replace:true,link:function(b,a){var c=a.find("input");c.on("change",function(d){b.value=d.target.value;b.change()});b.change=function(){console.log(b.value);b.ngChange()(b.value)}}}});app.directive("framePlayer",["$timeout",function(a){return{restrict:"E",templateUrl:"templates/Elements/frame_player.html",scope:{title:"@title",ngAdd:"&",ngSelect:"&",ngRemove:"&"},link:function(b){b.frames=[];b.selected=null;b.add=function(){b.frames.push(b.frames.length);b.selected=b.frames.length-1;a(function(){b.ngAdd()(b.selected)})};b.remove=function(c){b.frames.splice(c,1);b.ngRemove()(c)};b.select=function(c){var d=b.frames[c];b.selected=c;b.ngSelect()(c)}}}}]);app.directive("canvasContainer",["$timeout",function(a){return{restrict:"E",templateUrl:"templates/Elements/canvas_container.html",scope:{engine:"=",ngInitialize:"&",refresh:"="},link:function(d,c){var b=this;d.init=function(){d.ngInitialize()()};d.$watch("engine.layers.length",function(f,e){a(function(){if(e!==f){d.refresh()}})},true);d.refresh=function(){d.engine.clearAllLayers();var e=c.find("canvas");for(var g=0;g<e.length;g++){var f=d.engine.getLayer(g);f.context=null;f.element=e[g]}d.engine.updateGrid({width:d.engine.width,height:d.engine.height,sw:32,sh:32,opacity:0.1});d.engine.layers.forEach(function(i,h){if(!(i instanceof CE.GridLayer)){b.redrawLayer(h)}})};b.redrawLayer=function(e){var f=d.engine.getLayer(e);if(f!==null&&f instanceof CE.ObjectLayer){f.clear();f.objects.forEach(function(g){f.image(g)})}}}}}]);app.directive("progressBar",function(){return{restrict:"E",templateUrl:"templates/Elements/progress_bar.html",replace:true,scope:{progress:"=progress"}}});