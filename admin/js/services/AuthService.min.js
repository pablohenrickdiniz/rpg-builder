app.factory("AuthService",["$http","Session",function(c,a){var b={};b.login=function(e,f,d){c({method:"POST",url:"http://localhost:9090/users/login",data:e,withCredentials:true}).then(function(g){if(g.data.success){var h=g.data.auth;a.create(h.sessionId,h.user._id,h.user.role,h.accessToken)}f(g.data.auth.user)},d)};b.isAuthorized=function(d){if(d.indexOf("public")!==-1){return true}return false};b.logout=function(){a.destroy()};b.isAuthenticated=function(){return a.userId!==null};return b}]);